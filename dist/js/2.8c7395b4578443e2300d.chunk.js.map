{"version":3,"sources":["webpack:///js/2.8c7395b4578443e2300d.chunk.js","webpack:///./src/js/components/publish.js"],"names":["webpackJsonp","160","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","default","_defineProperty","value","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","PublishComponent","undefined","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_redux","_index","actions","_Component","this","_this","getPrototypeOf","title","neirong","file","form","_alert","titleValue","trim","neirongValue","files","type","indexOf","size","data","FormData","publishSubmit","_this2","news","createElement","className","ref","el","name","placeholder","rows","accept","onClick","handleSubmit","Component","mapStateToProps","state","publish","container","mapDispatchToProps","dispatch","bindActionCreators","Publish","connect"],"mappings":"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","file":"js/2.8c7395b4578443e2300d.chunk.js","sourcesContent":["webpackJsonp([2,6],{\n\n/***/ 160:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PublishComponent = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(3);\n\t\n\tvar _reactRedux = __webpack_require__(12);\n\t\n\tvar _redux = __webpack_require__(8);\n\t\n\tvar _index = __webpack_require__(9);\n\t\n\tvar actions = _interopRequireWildcard(_index);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PublishComponent = exports.PublishComponent = function (_Component) {\n\t  _inherits(PublishComponent, _Component);\n\t\n\t  function PublishComponent(props) {\n\t    _classCallCheck(this, PublishComponent);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PublishComponent.__proto__ || Object.getPrototypeOf(PublishComponent)).call(this, props));\n\t\n\t    _this.title;\n\t    _this.neirong;\n\t    _this.file;\n\t    _this.form;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PublishComponent, [{\n\t    key: 'handleSubmit',\n\t    value: function handleSubmit() {\n\t      //let data=\"title=\"+this.title.value+\"&neirong=\"+this.neirong.value+\"&upload=\"+this.file.value\n\t      var _alert = this.props.actions._alert,\n\t          titleValue = this.title.value.trim(),\n\t          neirongValue = this.neirong.value.trim();\n\t      if (titleValue.length < 5) {\n\t        _alert(\"标题最少5个字\");\n\t        return;\n\t      }\n\t      if (neirongValue.length < 20) {\n\t        _alert(\"内容最少20个字\");\n\t        return;\n\t      }\n\t      if (this.file.value) {\n\t        if (this.file.files[0].type.indexOf(\"image\") == -1) {\n\t          _alert(\"只能上传图片\");\n\t          return;\n\t        }\n\t        if (this.file.files[0].size > 50 * 1024) {\n\t          _alert(\"图片大小不能超过50KB\");\n\t          return;\n\t        }\n\t      }\n\t      var data = new FormData(this.form);\n\t      this.props.actions.publishSubmit(data);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var data = this.props.news;\n\t      return _react2.default.createElement(\n\t        'form',\n\t        { className: 'publish', ref: function ref(el) {\n\t            _this2.form = el;\n\t          } },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'publishItem' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'name' },\n\t            '\\u6587\\u7AE0\\u6807\\u9898\\uFF1A'\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'inputDiv' },\n\t            _react2.default.createElement('input', _defineProperty({ type: 'text', className: 'title', ref: function ref(el) {\n\t                _this2.title = el;\n\t              }, name: 'title', placeholder: '\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u6807\\u9898' }, 'placeholder', '\\u6700\\u5C115\\u4E2A\\u5B57'))\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'publishItem' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'name' },\n\t            '\\u6587\\u7AE0\\u5185\\u5BB9\\uFF1A'\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'inputDiv' },\n\t            _react2.default.createElement('textarea', _defineProperty({ placeholder: '\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u5185\\u5BB9', ref: function ref(el) {\n\t                _this2.neirong = el;\n\t              }, rows: '10', name: 'neirong' }, 'placeholder', '\\u6700\\u5C1120\\u4E2A\\u5B57'))\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'publishItem' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'name' },\n\t            '\\u4E0A\\u4F20\\u5C01\\u9762\\uFF1A'\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'inputDiv' },\n\t            _react2.default.createElement('input', { type: 'file', name: 'upload', ref: function ref(el) {\n\t                _this2.file = el;\n\t              }, accept: '*.jpg' })\n\t          )\n\t        ),\n\t        _react2.default.createElement('input', { type: 'button', className: 'btn publishBtn', value: '\\u53D1\\u5E03\\u6587\\u7AE0', onClick: function onClick() {\n\t            _this2.handleSubmit();\n\t          } })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PublishComponent;\n\t}(_react.Component);\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return { publish: state.container };\n\t};\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    actions: (0, _redux.bindActionCreators)(actions, dispatch)\n\t  };\n\t};\n\tvar Publish = (0, _reactRedux.connect)(mapStateToProps, //只要 Redux store 发生改变，mapStateToProps 函数就会被调用。该回调函数必须返回一个纯对象，这个对象会与组件的 props 合并,如果你省略了这个参数，你的组件将不会监听 Redux store。如果指定了该回调函数中的第二个参数 ownProps，则该参数的值为传递到组件的 props，而且只要组件接收到新的 props，mapStateToProps 也会被调用\n\tmapDispatchToProps //如果传递的是一个对象，那么每个定义在该对象的函数都将被当作 Redux action creator，而且这个对象会与 Redux store 绑定在一起，其中所定义的方法名将作为属性名，合并到组件的 props 中。如果传递的是一个函数，该函数将接收一个 dispatch 函数，然后由你来决定如何返回一个对象，这个对象通过 dispatch 函数与 action creator 以某种方式绑定在一起（提示：你也许会用到 Redux 的辅助函数 bindActionCreators()）。如果你省略这个 mapDispatchToProps 参数，默认情况下，dispatch 会注入到你的组件 props 中。如果指定了该回调函数中第二个参数 ownProps，该参数的值为传递到组件的 props，而且只要组件接收到新 props，mapDispatchToProps 也会被调用。\n\t)(PublishComponent);\n\tmodule.exports = Publish;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/2.8c7395b4578443e2300d.chunk.js\n **/","\nimport React,{Component} from \"react\"\nimport { render } from 'react-dom'\nimport {connect} from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from '../actions/index'\n\nexport class PublishComponent extends Component{\n  constructor(props) {\n    super(props)\n    this.title\n    this.neirong\n    this.file\n    this.form\n  }\n  handleSubmit(){\n      //let data=\"title=\"+this.title.value+\"&neirong=\"+this.neirong.value+\"&upload=\"+this.file.value\n      let _alert=this.props.actions._alert,\n      titleValue=this.title.value.trim(),\n      neirongValue=this.neirong.value.trim()\n      if(titleValue.length<5){\n        _alert(\"标题最少5个字\")\n        return\n      }\n      if(neirongValue.length<20){\n        _alert(\"内容最少20个字\")\n        return\n      }\n      if(this.file.value){\n        if(this.file.files[0].type.indexOf(\"image\")==-1){\n          _alert(\"只能上传图片\")\n          return \n        }\n        if(this.file.files[0].size>50*1024){\n          _alert(\"图片大小不能超过50KB\")\n          return \n        }\n      }\n      let data=new FormData(this.form);\n      this.props.actions.publishSubmit(data)\n  }\n  render(){\n    let data=this.props.news;\n    return <form className=\"publish\" ref={el=>{this.form=el}} >\n    <div className=\"publishItem\">\n      <div className=\"name\">文章标题：</div>\n      <div className=\"inputDiv\">\n        <input type=\"text\" className=\"title\" ref={el=>{this.title=el}} name=\"title\" placeholder=\"请输入文章标题\" placeholder=\"最少5个字\"/>\n      </div>\n    </div>\n    <div className=\"publishItem\">\n      <div className=\"name\">文章内容：</div>\n      <div className=\"inputDiv\">\n        <textarea placeholder=\"请输入文章内容\" ref={el=>{this.neirong=el}} rows=\"10\" name=\"neirong\"  placeholder=\"最少20个字\"></textarea>\n      </div>\n    </div>\n    <div className=\"publishItem\">\n      <div className=\"name\">上传封面：</div>\n      <div className=\"inputDiv\">\n        <input type=\"file\" name=\"upload\" ref={el=>{this.file=el}}  accept=\"*.jpg\"/>\n      </div>\n    </div>\n    <input type=\"button\" className=\"btn publishBtn\" value=\"发布文章\" onClick={()=>{this.handleSubmit()}} />\n    </form>\n  }\n}\n\nconst mapStateToProps=(state)=>{\n    return {publish:state.container}\n}\nconst mapDispatchToProps=(dispatch)=>{\n    return {\n        actions: bindActionCreators(actions, dispatch),\n    }\n}\nconst Publish= connect(\n    mapStateToProps,//只要 Redux store 发生改变，mapStateToProps 函数就会被调用。该回调函数必须返回一个纯对象，这个对象会与组件的 props 合并,如果你省略了这个参数，你的组件将不会监听 Redux store。如果指定了该回调函数中的第二个参数 ownProps，则该参数的值为传递到组件的 props，而且只要组件接收到新的 props，mapStateToProps 也会被调用\n    mapDispatchToProps//如果传递的是一个对象，那么每个定义在该对象的函数都将被当作 Redux action creator，而且这个对象会与 Redux store 绑定在一起，其中所定义的方法名将作为属性名，合并到组件的 props 中。如果传递的是一个函数，该函数将接收一个 dispatch 函数，然后由你来决定如何返回一个对象，这个对象通过 dispatch 函数与 action creator 以某种方式绑定在一起（提示：你也许会用到 Redux 的辅助函数 bindActionCreators()）。如果你省略这个 mapDispatchToProps 参数，默认情况下，dispatch 会注入到你的组件 props 中。如果指定了该回调函数中第二个参数 ownProps，该参数的值为传递到组件的 props，而且只要组件接收到新 props，mapDispatchToProps 也会被调用。\n    )(PublishComponent)\nmodule.exports = Publish\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/publish.js\n **/"],"sourceRoot":""}